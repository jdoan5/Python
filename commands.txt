# commands.txt
# Common terminal commands I use across projects (Mac/Linux). Windows equivalents noted where helpful.

## 0) Navigation & inspection
pwd
ls -la
cd "path/to/project"
mkdir -p "new-folder"
open .            # macOS Finder (Windows: start . | Linux: xdg-open .)
code .            # Open VS Code in current folder (if installed)
cat file.txt
less file.txt
head -n 20 file.txt
tail -n 50 file.txt
grep -n "search text" -R .
find . -name "*.py" -maxdepth 3
du -sh .          # Folder size
df -h             # Disk usage

---

## 1) Virtual environment reset / rebuild (Python)
# 1. Delete the existing virtual environment
deactivate 2>/dev/null || true
rm -rf .venv

# 2. Create a new virtual environment
python3 -m venv .venv

# 3. Activate the virtual environment
source .venv/bin/activate             # Windows: .venv\Scripts\activate

# 4. Repair or upgrade pip
python -m ensurepip --upgrade

# Now that pip exists, upgrade it to the latest version
python -m pip install --upgrade pip

# 5. Install requirements
python -m pip install -r requirements.txt
# or
pip install --upgrade pip
pip install -r requirements.txt

# 6. Verify the correct interpreter is used
python --version
python -c "import sys; print(sys.executable)"
python -m pip --version
which python                          # Windows: where python

---

## 2) Python packaging helpers
pip list
pip freeze > requirements.txt         # Save exact versions (pin)
python -m pip install -U pip
python -m pip uninstall -y package_name

---

## 3) File operations (safe patterns)
# Remove a single file
rm -f "path/to/file"

# Remove everything inside a directory (keep folder)
rm -rf artifacts/* reports/*
mkdir -p artifacts reports

# Copy directories
cp -R "source directory" "destination directory"
# examples
cp -R "Fake News Learning with Machine Learning (Stage 2)" "Fake News Learning with Machine Learning (Stage 3)"
cp -R "Next-Day Direction Classifier with RAG (Stage 1)" "Next-Day Direction Classifier with RAG (Stage 2)"

# Move/rename
mv "old-name" "new-name"

---

## 4) Git (quick)
git status
git add .
git commit -m "Message"
git push
git pull
git log --oneline --decorate --graph -10
git diff
git checkout -b feature/my-branch

---

## 5) Streamlit (if applicable)
streamlit cache clear
streamlit run "app.py"

---

## 6) FastAPI / Uvicorn (if applicable)
uvicorn app.api:app --reload

---

## 7) Mini Data Mart with DuckDB (project-specific)
# From the project root (after venv + requirements install):
python run.py

# Run individual scripts
python mini_data_mart.py
python inspect_duckdb.py
python export_to_csv.py
python export_to_json.py
python explore_mini_data_mart.py

# Verify DuckDB is installed in Python
python -c "import duckdb; print('duckdb', duckdb.__version__)"

# Open the DuckDB database via DuckDB CLI (if installed)
# (If duckdb CLI is not installed, you can install it via brew or use Python only.)
duckdb mini_data_mart.duckdb

# Inside DuckDB CLI (examples):
# .tables
# .schema
# SELECT * FROM fact_sales LIMIT 10;
# SELECT COUNT(*) FROM fact_sales;
# .exit

# Output folders (if you want to reset exports)
rm -rf data/CSV-export/* data/JSON-export/*
mkdir -p data/CSV-export data/JSON-export

---

## Legacy notes (from previous commands.txt)
1. Delete the existing virtual environment
deactivate 2>/dev/null || true
rm -rf .venv

2. Create a new virtual environment
python3 -m venv .venv

3. Activate the virtual environment
source .venv/bin/activate

4. Repair or upgrade pip
python -m ensurepip --upgrade
OR
python -m pip install --upgrade pip setuptools wheel

5. Install the requirements
python -m pip install -r requirements.txt
or
pip install --upgrade pip
pip install -r requirements.txt

6. Reinstalls a clean version of pip from the Python standard library
python3 -m ensurepip --upgrade

7. Verify the correct interpreter is used
python --version
python -c "import sys; print(sys.executable)"
python -m pip --version

8. Check sklearn version
which python
python -c "import sklearn; print('sklearn', sklearn.__version__)"

9. Remove the file (inside the directory)
example 1: rm -f "artifacts/fake_news_tfidf_logreg.joblib"
example 2: rm -f file/*

10. Streamlit clear cache
streamlit cache clear

11. Streamlit run
streamlit run "application name"

12. Copy another directory
cp -r "source directory" "destination directory"
ex1: cp -R "Fake News Learning with Machine Learning (Stage 2)" \
      "Fake News Learning with Machine Learning (Stage 3)"
ex2: cp -R "Next-Day Direction Classifier with RAG (Stage 1)" "Next-Day Direction Classifier with RAG (Stage 2)"

13. Remove files inside a directory
ex: cd "Fake News Learning with Machine Learning (Stage 3)"
rm -rf artifacts reports
mkdir -p artifacts reports

14. Move directory
mv "source directory" "destination directory"

15. Run local FastAPI
uvicorn app.api:app --reload

16. To re-create the .venv
deactivate 2>/dev/null || true
rm -rf .venv

python3 -m venv .venv
source .venv/bin/activate

python -m pip install --upgrade pip
python -m pip install duckdb pandas numpy

17. To verify
python -m pip --version
python -c "import duckdb, pandas, numpy; print('ok')"

18. Repair pip inside the existing venv
# confirm pip is missing
python -m pip -V

# install pip into the venv
python -m ensurepip --upgrade

# now upgrade pip tooling
python -m pip install --upgrade pip setuptools wheel

# install deps
python -m pip install duckdb pandas numpy

19. Show all files or tree
ls -R

20. Show all files in a directory
ls -R "directory name"

21. Show all files in a directory (recursive)
ls -Rah

22. CLI help
python -m mart -h
